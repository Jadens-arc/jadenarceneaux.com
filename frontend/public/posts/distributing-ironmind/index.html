<!DOCTYPE html>
<html lang="en"><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Distributing Ironmind &#43; Rust Continuous Integration - Jaden Arceneaux</title><link rel="manifest" href="/manifest.json">
	<meta name="viewport" content="width=device-width, initial-scale=1" maximum-scale=1>
	<meta name="theme-color" content="white"> 
	<meta name="description" content="
Featuring Cargo, Snap, and Homebrew
Believe it or not, I&rsquo;d like people to use my software, especially Ironmind. I&rsquo;m finally reaching a point in the project where I feel content with it.
So it&rsquo;s time to share it with the world.
Unit Tests
Cargo Test
The first step was setting up automated unit tests to build and test my project each time I merged with the master branch. Fortunately, Rust&rsquo;s build system, Cargo, makes this super easy. To read the documentation for it click here but to paraphrase, tests work off of Cargo&rsquo;s existing module system. Tests go into the src/tests/ directory. When cargo test is run the compiler will first run the mod.rs file in the directory. Like other rust modules, supplementary files can be stored around the mod.rs file." />
	<meta property="og:image" content="/icon.png"/>
	<meta property="twitter:image" content="https://jadenarceneaux.com/icon.png"/>
	<link rel="apple-touch-icon" href="/icon.png" />
	
    <script
      defer
      src='https://static.cloudflareinsights.com/beacon.min.js'
      data-cf-beacon='{"token": "d7ae34ce785d42da8f440de1ae74c284"}'>
    </script>
    <meta property="og:url" content="https://jadenarceneaux.com/posts/distributing-ironmind/">
  <meta property="og:site_name" content="Jaden Arceneaux">
  <meta property="og:title" content="Distributing Ironmind &#43; Rust Continuous Integration">
  <meta property="og:description" content="Featuring Cargo, Snap, and Homebrew
Believe it or not, I’d like people to use my software, especially Ironmind. I’m finally reaching a point in the project where I feel content with it.
So it’s time to share it with the world.
Unit Tests Cargo Test The first step was setting up automated unit tests to build and test my project each time I merged with the master branch. Fortunately, Rust’s build system, Cargo, makes this super easy. To read the documentation for it click here but to paraphrase, tests work off of Cargo’s existing module system. Tests go into the src/tests/ directory. When cargo test is run the compiler will first run the mod.rs file in the directory. Like other rust modules, supplementary files can be stored around the mod.rs file.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-30T09:35:13-07:00">
    <meta property="article:modified_time" content="2024-03-30T09:35:13-07:00">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Distributing Ironmind &#43; Rust Continuous Integration">
  <meta name="twitter:description" content="Featuring Cargo, Snap, and Homebrew
Believe it or not, I’d like people to use my software, especially Ironmind. I’m finally reaching a point in the project where I feel content with it.
So it’s time to share it with the world.
Unit Tests Cargo Test The first step was setting up automated unit tests to build and test my project each time I merged with the master branch. Fortunately, Rust’s build system, Cargo, makes this super easy. To read the documentation for it click here but to paraphrase, tests work off of Cargo’s existing module system. Tests go into the src/tests/ directory. When cargo test is run the compiler will first run the mod.rs file in the directory. Like other rust modules, supplementary files can be stored around the mod.rs file.">
<script src="https://jadenarceneaux.com/js/feather.min.js"></script>
	
	
        <link href="https://jadenarceneaux.com/css/fonts.578d3e2d005e734a2cf9d37581bc1c607d869f50beb8ee34d2078d5b58309cd3.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://jadenarceneaux.com/css/main.04073e0f7ca8d69d57879b1c3c95b7d5a8fc09f567b27f494923b15e861bf658.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://jadenarceneaux.com/css/dark.2e8854c30cf1d0ca2c110c3073d251d534394e9d13b98bcda52884d771bc4016.css"  disabled />
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://jadenarceneaux.com/">Jaden Arceneaux</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/projects">Projects</a>
		
		<a href="/posts">Blog</a>
		
		<a href="/contact">Contact</a>
		
		<a href="/misc">Misc</a>
		
		| <span id="dark-mode-toggle" onclick="toggleTheme()"></span>
		<script src="https://jadenarceneaux.com/js/themetoggle.js"></script>
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			
				<h1 class="title">Distributing Ironmind &#43; Rust Continuous Integration</h1>
			
			
				<div class="meta">Posted on Mar 30, 2024</div>
			
		</div>
		

		<section class="body">
			<blockquote>
<p>Featuring Cargo, Snap, and Homebrew</p></blockquote>
<p>Believe it or not, I&rsquo;d like people to use my software, especially <a href="https://github.com/Jadens-arc/Ironmind">Ironmind</a>. I&rsquo;m finally reaching a point in the project where I feel content with it.</p>
<p>So it&rsquo;s time to share it with the world.</p>
<h2 id="unit-tests">Unit Tests</h2>
<h3 id="cargo-test">Cargo Test</h3>
<p>The first step was setting up automated unit tests to build and test my project each time I merged with the master branch. Fortunately, Rust&rsquo;s build system, Cargo, makes this super easy. To read the documentation for it <a href="https://doc.rust-lang.org/rust-by-example/cargo/test.html">click here</a> but to paraphrase, tests work off of Cargo&rsquo;s existing module system. Tests go into the <code>src/tests/</code> directory. When <code>cargo test</code> is run the compiler will first run the <code>mod.rs</code> file in the directory. Like other rust modules, supplementary files can be stored around the <code>mod.rs</code> file.</p>
<p>Inside the <code>mod.rs</code> you must expose a public module called tests configured as test using macros.</p>
<p>Like this&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#6272a4">// src/tests/mod.rs
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">#[cfg(test)]</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">pub</span> <span style="color:#ff79c6">mod</span> tests {
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">// tests go in here
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>}
</span></span></code></pre></div><p>Inside this tests module, you expose each test as a public function along with a call to the test macro.</p>
<p>Something like&hellip;
Each function proceeds with the test macro will get called when <code>cargo test</code> runs making it very easy to organize multiple tests. Test function can return a Result or just panic. A panic or an Err variant Result type will both indicate a failure. In the documentation they use panics but I prefer using Results because you&rsquo;re able to provide more information as to why a test failed.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#6272a4">// src/tests/mod.rs
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">#[cfg(test)]</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">pub</span> <span style="color:#ff79c6">mod</span> tests {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">#[test]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">pub</span> <span style="color:#ff79c6">fn</span> <span style="color:#50fa7b">test_a</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#6272a4">// this test
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">pub</span> <span style="color:#ff79c6">fn</span> <span style="color:#50fa7b">test_b</span>() -&gt; <span style="color:#8be9fd;font-style:italic">Result</span><span style="color:#ff79c6">&lt;</span>(), <span style="color:#8be9fd;font-style:italic">String</span><span style="color:#ff79c6">&gt;</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#6272a4">// that test
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The tests for Ironmind are quite long, too long to fit in this blog post but you can find them <a href="https://github.com/Jadens-arc/Ironmind/blob/main/src/tests/mod.rs">here on my GitHub</a>.</p>
<h3 id="github-automation">GitHub Automation</h3>
<p>It&rsquo;s as simple as adding a <code>.github/workflows/rust.yml</code> file to the root of your project</p>
<p>If you&rsquo;re using GitHub you can click on the Actions tab on the web interface and configure actions for Rust. GitHub will automatically generate this file for you. The best part is the fact that every almost Cargo project uses the <code>cargo test</code> command to run unit tests. Which means every <code>rust.yml</code> file is exactly the same.</p>
<p>If you&rsquo;d rather create it yourself or you don&rsquo;t feel like using the GitHub web interface just copy this into the aforementioned path&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#ff79c6">name</span>: Rust
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">on</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">push</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">branches</span>: [ <span style="color:#f1fa8c">&#34;main&#34;</span> ]
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">pull_request</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">branches</span>: [ <span style="color:#f1fa8c">&#34;main&#34;</span> ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">env</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">CARGO_TERM_COLOR</span>: always
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">jobs</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">build</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">runs-on</span>: ubuntu-latest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">steps</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ff79c6">uses</span>: actions/checkout@v3
</span></span><span style="display:flex;"><span>    - <span style="color:#ff79c6">name</span>: Build
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">run</span>: cargo build --verbose
</span></span><span style="display:flex;"><span>    - <span style="color:#ff79c6">name</span>: Run tests
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">run</span>: cargo test --verbose
</span></span></code></pre></div><h3 id="unit-tests-conclusion">Unit Tests Conclusion</h3>
<p>Now whenever you push or merge with master these automated unit tests will run and alert you if anything goes wrong.</p>
<h2 id="publishing-to-cargo">Publishing to Cargo</h2>
<p>I&rsquo;m going to start with the easiest package manager to publish to</p>
<p>Go to <a href="https://crates.io">crates.io</a> and log in with your GitHub account</p>
<p>Go to <a href="https://crates.io/me">crates.io/me</a> and generate a new API token for your device</p>
<p>Run <code>cargo login</code> and paste your API key</p>
<p>Then you have to make sure your Cargo project meets the requirements to be published</p>
<p>It must have all of the following must be defined in the <code>cargo.toml</code> file</p>
<ul>
<li>License or license file</li>
<li>Description</li>
<li>Homepage</li>
<li>Repository</li>
<li>Readme</li>
</ul>
<p>Here&rsquo;s the <code>cargo.toml</code> for Ironmind</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[package]
</span></span><span style="display:flex;"><span>name = <span style="color:#f1fa8c">&#34;ironmind&#34;</span>
</span></span><span style="display:flex;"><span>version = <span style="color:#f1fa8c">&#34;0.3.15&#34;</span>
</span></span><span style="display:flex;"><span>edition = <span style="color:#f1fa8c">&#34;2021&#34;</span>
</span></span><span style="display:flex;"><span>authors = [<span style="color:#f1fa8c">&#34;Jaden Arceneaux &lt;contact@jadenarceneaux.com&gt;&#34;</span>]
</span></span><span style="display:flex;"><span>description = <span style="color:#f1fa8c">&#34;A Brainf*ck interpreter and code execution visualizer built in Rust&#34;</span>
</span></span><span style="display:flex;"><span>license = <span style="color:#f1fa8c">&#34;MIT&#34;</span>
</span></span><span style="display:flex;"><span>readme = <span style="color:#f1fa8c">&#34;README.md&#34;</span>
</span></span><span style="display:flex;"><span>repository = <span style="color:#f1fa8c">&#34;https://github.com/Jadens-arc/Ironmind&#34;</span>
</span></span><span style="display:flex;"><span>keywords = [<span style="color:#f1fa8c">&#34;BrainFuck&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[dependencies]
</span></span><span style="display:flex;"><span>clap = { version = <span style="color:#f1fa8c">&#34;4.4.10&#34;</span>, features = [<span style="color:#f1fa8c">&#34;derive&#34;</span>] }
</span></span><span style="display:flex;"><span>cursive = <span style="color:#f1fa8c">&#34;0.20.0&#34;</span>
</span></span></code></pre></div><p>Then all you have to do is run <code>cargo publish</code> and congrats your project is published.</p>
<p>Users can run <code>cargo install &lt;your program&gt;</code>. It&rsquo;ll download your source code along with the dependencies, compile them into one executable on the user&rsquo;s system, and move it to their bin directory. It is worth mentioning that almost no other package manager works like this. Most of them require the publisher to compile it on their system and upload the executable to a repository. Conceptually, you shouldn&rsquo;t base your understanding of package managers off of Cargo. It gets away with this because it is both a package manager and a build system.</p>
<p>I feel like this is the point where I have to give the obligatory warning to not publish superfluous software. Your project should be somewhat unique and provide value to someone other than yourself. Don&rsquo;t publish your Hello World program. No one&rsquo;s going to stop you, but you should be considerate. Think of the children.</p>
<p>Strap in buds, it only gets steeper from here</p>
<h3 id="publishing-to-homebrew">Publishing to Homebrew</h3>
<p>Homebrew is far more traditional.</p>
<p>Except for the fact that, like everything else in Apple&rsquo;s universe, the terminology is weird.</p>
<p>For this, you only need to know two of them</p>
<table>
  <thead>
      <tr>
          <th>Word</th>
          <th>Definition</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Tap</td>
          <td>A repository</td>
      </tr>
      <tr>
          <td>Formula</td>
          <td>A program</td>
      </tr>
  </tbody>
</table>
<p>A Tap is a literal repository hosted on GitHub that specifies Formulas available for installation. You can name your tap whatever you want so long that it starts with &ldquo;homebrew-&rdquo;. Each Formula is declared in a dedicated ruby file. The naming convention is <code>&lt;your project&gt;.rb</code>. Create a new repository and define your ruby file for your Formula.</p>
<p>Then you&rsquo;re going to want to compile your program using <code>cargo build --release</code>. The executable found at <code>target/release/&lt;your project&gt;</code> is what you will distribute to users. You&rsquo;re going to want to compress this executable into a tar.gz file. This can be done using <code>tar -cvzf &lt;your project&gt;.tar.gz &lt;your projects executable&gt;</code>.</p>
<p>Then you&rsquo;re going to want to upload this tarball somewhere so that you can provide a URL to it for Homebrew. DO NOT JUST PUT IT IN YOUR REPOSITORY. Instead, use the Releases feature on GitHub. On the GitHub web interface, On the right sidebar, under the Releases header, click Create a new release. Attach your compressed executable to the release and set the Tag, Title, and Description. Publish the release. Copy the link to the compressed executable and save it for later ;)</p>
<p>You&rsquo;re also going to want to get the SHA256 hash of your compressed executable so Homebrew can verify the installation. There&rsquo;s some kind of way to do this automatically but I don&rsquo;t remember what it was. So instead run <code>shasum --algorithm=256 &lt;your compressed executable&gt;</code> and save that hash for later as well</p>
<p>Inside the ruby file, you must declare a class that inherits from the Formula class. Inside that class, you must define a few values.</p>
<ul>
<li>Description</li>
<li>Homepage</li>
<li>URL (Link to that compressed executable from earlier, I told you to save it)</li>
<li>SHA256 (The hash from earlier)</li>
<li>License</li>
</ul>
<p>Then you&rsquo;re going to want to define the install method. Inside that method, you&rsquo;re going to want to call <code>bin.install</code> and pass in the name of the executable you want to move into the bin directory (this is just the name of your project).</p>
<p>Then you&rsquo;re going to want to define your test block. Homebrew uses this to verify that your program runs. You just call <code>system</code> and pass in the path of your executable preceded with the bin directory (use <code>#{bin}</code> to insert the bin directory into the string).</p>
<p>Here&rsquo;s what Ironmind.rb looks like</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#ff79c6">class</span> <span style="color:#50fa7b">Ironmind</span> <span style="color:#ff79c6">&lt;</span> Formula
</span></span><span style="display:flex;"><span>  desc <span style="color:#f1fa8c">&#34;A BrainF*ck interpreter written in Rust&#34;</span>
</span></span><span style="display:flex;"><span>  homepage <span style="color:#f1fa8c">&#34;https://crates.io/crates/ironmind/&#34;</span>
</span></span><span style="display:flex;"><span>  url <span style="color:#f1fa8c">&#34;https://github.com/Jadens-arc/Ironmind/releases/download/v0.3.15/ironmind.tar.gz&#34;</span>
</span></span><span style="display:flex;"><span>  sha256 <span style="color:#f1fa8c">&#34;9a8bfa2d9dec6c9c941bf34156c3d3dd427c5f50153e387666f142f259777fc3&#34;</span>
</span></span><span style="display:flex;"><span>  license <span style="color:#f1fa8c">&#34;MIT&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">def</span> <span style="color:#50fa7b">install</span>
</span></span><span style="display:flex;"><span>    bin<span style="color:#ff79c6">.</span>install <span style="color:#f1fa8c">&#34;ironmind&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">test</span> <span style="color:#ff79c6">do</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">system</span> <span style="color:#f1fa8c">&#34;</span><span style="color:#f1fa8c">#{</span>bin<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">/ironmind&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">end</span>
</span></span></code></pre></div><p>Commit these changes and push them to the repository for your tap and now users can add your tap and install the Formulae defined in it</p>
<p><a href="https://github.com/Jadens-arc/homebrew-tap">My tap</a> is in a repository called jadens-arc/homebrew-tap</p>
<p>To add my tap run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>brew tap jadens-arc/tap
</span></span></code></pre></div><p>To install Ironmind run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>brew install ironmind
</span></span></code></pre></div><h2 id="publishing-to-snap">Publishing to Snap</h2>
<p>If you know me IRL, you know that I shit on Snap for being bloated. I stand on that, it&rsquo;s bloated, just run <code>lsblk</code> and see for yourself. But it is also really convenient. For beginners and for professionals I&rsquo;d honestly recommend Ubuntu and it&rsquo;s piles of <del>shit</del> tools including Snap. If you&rsquo;re a beginner it makes it easy to get into Linux. If you&rsquo;re a developer new to a job it makes it really quick to get a workstation set up and get up and running wherever you are. Regardless of who you are, you get excellent documentation and mountains of StackOverflow answers.</p>
<p>Snap works by creating isolated environments for your code to run in, hence the need for loopback devices. By default, snaps only have access to the files they&rsquo;re distributed with and cannot access very much at the system level.</p>
<p>Publishing to Snap only requires one file to start with. A <code>snapcraft.yaml</code> file in the root of your project.</p>
<h3 id="snapcraftyaml">Snapcraft.yaml</h3>
<p>You can generate it by creating a new directory outside of your project and using <code>snapcraft init</code>. Then inside that directory, there will be another directory called snap and in that directory, you&rsquo;ll have your <code>snapcraft.yaml</code> file. Copy it to the root of your project.</p>
<p>After declaring the basic information from name to description you must specify the grade of your project. This gives snap insight into the development status of your project. There are only two options:</p>
<ul>
<li><code>devel</code> for projects still in development</li>
<li><code>stable</code> for complete projects ready to be installed</li>
</ul>
<p>Then you specify the confinement strategy for your project. There are three options <code>devmode</code>, <code>classic</code>, and <code>strict</code>. Ideally, all software should be published in strict mode. This means the software will only have access to a limited number of interfaces needed for it to function. Devmode is for snap in development, allowing developers new to snap the ability to quickly iterate on designs. Snaps published in devmode must be installed using the <code>--devmode</code> flag and they cannot be published as <code>stable</code>. Classic confinement is for programs that <strong>legitimately</strong> need full access to the system. These packages must be installed using the <code>--classic</code> flag (e.g. <code>snap install code --classic</code> for VSCode)</p>
<p>Then you specify the architectures to build for when the package is published. While you can install Snapcraft on a Mac this is only to develop Snap packages. There is no support for installing them.</p>
<p>Under <code>parts -&gt; &lt;your app&gt;</code> you configure the build instructions for your package. Under <code>build-packages</code>, you specify any system dependencies needed for your app to build.  Under <code>source</code> you specify the repository to build from. Under <code>plugin</code> you specify the build plugin for your program. For Ironmind we use the Rust plugin which builds our project using Cargo. To see all available plugins run <code>snapcraft list-plugin</code></p>
<p>Under <code>apps -&gt; &lt;your app&gt;</code> you first set the command which is the path to the executable binary.</p>
<p>The final step is to configure the <a href="https://snapcraft.io/docs/interface-management">interfaces</a> your app needs to run. This allows your app to leave the isolated environment it is installed in.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ff79c6">name</span>: ironmind <span style="color:#6272a4"># you probably want to &#39;snapcraft register &lt;name&gt;&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">base</span>: core22 <span style="color:#6272a4"># the base snap is the execution environment for this snap</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">version</span>: <span style="color:#f1fa8c">&#39;0.3.15&#39;</span> <span style="color:#6272a4"># just for humans, typically &#39;1.2+git&#39; or &#39;1.3.2&#39;, I like to match this to my cargo.toml version</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">summary</span>: Brainf*ck interpreter and code execution visualizer <span style="color:#6272a4"># 79 char long summary</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">description</span>: |<span style="color:#f1fa8c">
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  Built in Rust.
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">  Written by Jaden Arceneaux </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">grade</span>: stable <span style="color:#6272a4"># must be &#39;stable&#39; to release into candidate/stable channels</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">confinement</span>: strict <span style="color:#6272a4"># use &#39;strict&#39; once you have the right plugs and slots</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">architectures</span>:
</span></span><span style="display:flex;"><span>- <span style="color:#ff79c6">build-on</span>: amd64
</span></span><span style="display:flex;"><span>- <span style="color:#ff79c6">build-on</span>: arm64
</span></span><span style="display:flex;"><span>- <span style="color:#ff79c6">build-on</span>: armhf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">parts</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">ironmind</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">build-packages</span>:
</span></span><span style="display:flex;"><span>      - libncurses5-dev
</span></span><span style="display:flex;"><span>      - libncursesw5-dev
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">source</span>: https://github.com/Jadens-arc/Ironmind.git
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4"># See &#39;snapcraft plugins&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">plugin</span>: rust
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">apps</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">ironmind</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">command</span>: bin/ironmind
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">plugs</span>:
</span></span><span style="display:flex;"><span>      - home
</span></span><span style="display:flex;"><span>      - removable-media
</span></span><span style="display:flex;"><span>      - desktop
</span></span></code></pre></div><h3 id="publishing-application">Publishing Application</h3>
<p>From the command line, you want to run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>snapcraft login
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>snapcraft register &lt;your app&gt;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>snapcraft
</span></span></code></pre></div><p>This will authenticate your account, register your application with the Snap store, and generate a Snap Package from your <code>snapcraft.yaml</code> file.</p>
<p>To test it out, you can run <code>snap install ./&lt;your app&gt;.snap</code></p>
<p>Then run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>snapcraft upload <span style="color:#ff79c6">&lt;</span>path to your app<span style="color:#ff79c6">&gt;.</span>snap
</span></span></code></pre></div><p>From there you can go to <a href="https://snapcraft.io/">snapcraft.io</a> to manage your package.</p>
<p>Using the web interface you can connect your Snap package to a GitHub repository such that each time a merge into master occurs snap will automatically build and distribute your package</p>
<h2 id="conclusion">Conclusion</h2>
<p>I really hope this helps someone. If you&rsquo;d like to suggest any corrections or adjustments feel free to email me at <a href="mailto:contact@jadenarceneaux.com">contact@jadenarceneaux.com</a></p>
<p>I hope you all have a lovely day.</p>

		</section>

		<div class="post-tags">
			
			
			
		</div>
	</article>
</main>
<footer>
    <div style="display: flex; flex-wrap: wrap; justify-content: center">
        <div
            style="
                display: flex;
                flex-wrap: wrap;
                width: fit-content;
                justify-content: center;
                margin-bottom: 1rem;
            "
        ><a
                class="soc"
                href="https://github.com/jadens-arc"
                rel="me"
                title="GitHub"
                ><i data-feather="github"></i
            ></a>
            <span class="border"></span><a
                class="soc"
                href="https://www.instagram.com/jaden.svg/"
                rel="me"
                title="Instagram"
                ><i data-feather="instagram"></i
            ></a>
            <span class="border"></span><a
                class="soc"
                href="https://www.linkedin.com/in/jaden-arceneaux/"
                rel="me"
                title="LinkedIn"
                ><i data-feather="linkedin"></i
            ></a>
            <span class="border"></span><a
                class="soc"
                href="https://www.twitter.com/jadenarceneaux/"
                rel="me"
                title="Twitter"
                ><i data-feather="twitter"></i
            ></a>
            <span class="border"></span><a
                class="soc"
                href="/index.xml"
                rel="me"
                title="RSS"
                ><i data-feather="rss"></i
            ></a>
            <span class="border"></span><a
                class="soc"
                href="mailto:contact@jadenarceneaux.com"
                rel="me"
                title="Email"
                ><i data-feather="mail"></i
            ></a>
            <span class="border"></span></div>
        <wbr />
        <div
            class="footer-info"
            style="
                word-wrap: nowrap;
                display: flex;
                flex-wrap: wrap;
                width: fit-content;
                text-align: center;
                margin-bottom: 1rem;
            "
        >
            2025  © Jaden Arceneaux 
        </div>
    </div><script>
        feather.replace();
    </script></footer>
</div>
    </body>
</html>
